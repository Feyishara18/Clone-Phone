<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="Song.css">
    <title>Document</title>
     
</head>

<body>

 
    
    
      </div>
    
  </div>
  <div class="iphone-frame">
    <div class="theContainer">
      <button class="btn show-songs" onclick="toggleSongs()"><span  class="material-symbols-outlined">
        menu
        </span></button>
      
      <div class="custom-offcanvas" id="songsPanel">
        <div class="header">
        <input type="text" id="search" placeholder="Search" oninput="search()">

          <h5>SONGS</h5>
          <button onclick="toggleSongs()">X</button>
        </div>
        <div class="body" id="songsList">
          <!-- Songs will appear here -->
        </div>
      </div>
    </div>
    <div class="section1">
   
    </div>
    
      <div class="section2">

    <div id="musicDiv">
      <img id="cover" src="" alt="">
      <div class="description">
        <p id="songTitle"></p>
        <p id="artist"></p>
      </div>
     <div id="audioDiv">
      <audio controls  type="audio/mpeg" id="song" src=""></audio>
     </div>
  
    </div>
    
    <div class="musicButtons">
      <button id="shuffleButton"> <span class="material-symbols-outlined">
       shuffle
       </span>
      </button>
       <button onclick="previousSong()"><span class="material-symbols-outlined">
         skip_previous
         </span>
        </button>
      <button class="different"> <span class="material-symbols-outlined">
       play_circle
       </span>
      </button>
       <button class="hello-btn" onclick="nextSong()">
           <span class="material-symbols-outlined">
               skip_next
               </span>
       </button>
      
       <button>
        <span class="material-symbols-outlined">
          autorenew
          </span>
       </button>
     </div>
    <div class="least"></div>
</body>
</html>
<script>
  
  let mySongs = [
  {
    "title": "Feel",
    "artist": "Davido",
    "cover": "Davido img.jpg",
    "audio": "./Davido-Feel-New-Song-(TrendyBeatz.com).mp3"
  },

  {
    "title": "Lonely at the top",
    "artist": "Asake",
    "cover": "Asake img.jpg",
    "audio": "Asake-Lonely-At-The-Top-(TrendyBeatz.com).mp3"
  },

  {
    "title": "Dey-Play",
    "artist": "Burna Boy",
    "cover": "Burna boy.jpg",
    "audio": "Burna-Boy-Dey-Play-(TrendyBeatz.com).mp3"
  },
  {
    "title": "Woman",
    "artist": "Simi",
    "cover": "simi img.jpg",
    "audio": "Simi-Woman-To-Woman-(TrendyBeatz.com).mp3"
  }, 
  {
    "title": "Cana",
    "artist": "Seyi-vibez",
    "cover": "Seyi-vibez.jpg",
    "audio": "Seyi-Vibez-Cana-(TrendyBeatz.com).mp3"
  }, 
  {
    "title": "Ice on my Baby",
    "artist": "Yung-Blue",
    "cover": "Yung-Bleu.jpg",
    "audio": "Yung_Bleu_-_Ice_On_My_Baby.mp3"
  },
   {
    "title": "Felony",
    "artist": "C-kay",
    "cover": "C-kay.jpg",
    "audio": "CKay-Felony-(TrendyBeatz.com).mp3"
  },
   {
    "title": "On-the-Low",
    "artist": "Burna Boy",
    "cover": "Burna boy.jpg",
    "audio": "Burna-Boy-On-The-Low-[TrendyBeatz.com].mp3"
  }, 
  {
    "title": "No-Wahala",
    "artist": "1da-Banton",
    "cover": "1da-banton.jpg",
    "audio": "1da-Banton-No-Wahala-(TrendyBeatz.com).mp3"
  }, {
    "title": "Cocaine",
    "artist": "Dai-Verse",
    "cover": "Dai-verse.jpg",
    "audio": "Dai-Verse-Cocaine-(TrendyBeatz.com).mp3"
  },
   {
    "title": "Awolowo",
    "artist": "Fido",
    "cover": "Fidi img.jpg",
    "audio": "Fido-Awolowo-(TrendyBeatz.com).mp3"
  },
   {
    "title": "Woman",
    "artist": "Doja-Cat",
    "cover": "doja image.jpg",
    "audio": "Doja_Cat_-_Woman_CeeNaija.com_.mp3"
  }, 
  {
    "title": "Uhh-Yeah",
    "artist": "Asake",
    "cover": "Asake img.jpg",
    "audio": "Asake-Uhh-Yeahh-(TrendyBeatz.com).mp3"
  },
  {
    "title": "Outside",
    "artist": "Buju",
    "cover": "Buju img.jpg",
    "audio": "Buju-Outside-(TrendyBeatz.com).mp3 - Copy.crdownload"
  }
]



mySongs.forEach((song, i) => {
   songsList.innerHTML += `<div onclick="playSong('${song.audio}')" class="bond">
    <h3>${song.title}</h3>
    <h6>${song.artist}</h6>
    </div>`
});


function search() {
        const query = document.getElementById('search').value.toLowerCase();
        const filteredSongs = mySongs.filter(song => song.title.toLocaleLowerCase().includes(query));
        console.log(filteredSongs);
        songsList.innerHTML = ''
        filteredSongs.forEach((song, i) => {
          console.log(i);
          songsList.innerHTML += `<div onclick="playSong('${song.audio}')" class="bond">
    <h3>${song.title}</h3>
    <h6>${song.artist}</h6>
    </div>`
});
    }

  



    function toggleSongs() {
  const panel = document.getElementById("songsPanel");
  panel.classList.toggle("active");
}



let isShuffled = false; // Track shuffle state
let shuffledSongs = [...mySongs]; // Default: normal order
let currentIndex = 0; // Track the current song
  
song.src = mySongs[currentIndex].audio;
  songTitle.innerHTML = mySongs[currentIndex].title;
  artist.innerHTML = mySongs[currentIndex].artist;
  cover.src = mySongs[currentIndex].cover;

// Function to shuffle the array
function shuffleArray(songs) {
  const copy = [...songs];
  for (let i = copy.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [copy[i], copy[j]] = [copy[j], copy[i]]; // Swap elements
  }
  return copy;
}

// Function to toggle shuffle mode
function toggleShuffle() {
  isShuffled = !isShuffled; // Toggle state
console.log(isShuffled);

  if (isShuffled) {
    shuffledSongs = shuffleArray(mySongs); // Shuffle only when enabling shuffle
    currentIndex = 0; // Reset to first shuffled song
  } else {
    currentIndex = 0; // Reset to first normal song
  }

  playSong(shuffledSongs[currentIndex].audio);
}

// Function to get the correct song list (shuffled or normal)
function getCurrentPlaylist() {
  return isShuffled ? shuffledSongs : mySongs;
}

// Function to play a song from the current playlist
function playSong(audioSrc) {
  let songToPlay = mySongs.find(song => song.audio === audioSrc);
  console.log(songToPlay);
  
  if (!songToPlay) return; // In case no song is found
  
  song.src = songToPlay.audio;
  songTitle.innerHTML = songToPlay.title;
  artist.innerHTML = songToPlay.artist;
  cover.src = songToPlay.cover;
  song.play();
}

// Function to play the next song
function nextSong() {
  let currentPlaylist = getCurrentPlaylist();
  console.log(currentPlaylist);
  
  currentIndex = (currentIndex + 1) % currentPlaylist.length;
  playSong(currentPlaylist[currentIndex].audio);
}

// Function to play the previous song
function previousSong() {
  let currentPlaylist = getCurrentPlaylist();
  currentIndex = (currentIndex - 1 + currentPlaylist.length) % currentPlaylist.length;
  playSong(currentPlaylist[currentIndex].audio);
}

// Attach shuffle toggle function to button
document.getElementById("shuffleButton").addEventListener("click", toggleShuffle);

</script>


